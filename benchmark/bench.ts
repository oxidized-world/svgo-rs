import { Bench } from 'tinybench'

import { optimize as optimizeRs } from '../index.js'
import { optimize } from 'svgo'

const b = new Bench()

const inputXml = `
<svg width="297" height="38" viewBox="0 0 297 38" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M28.8118 15.7587V14.4965C28.3922 14.4376 27.9691 14.407 27.5454 14.4048C22.3621 14.4048 18.1458 18.6218 18.1458 23.8045C18.1464 25.3154 18.5114 26.8039 19.21 28.1437C19.9086 29.4835 20.9201 30.635 22.1586 31.5005C22.1145 31.4529 22.071 31.4053 22.0276 31.357C20.546 29.6941 19.6908 27.5014 19.6908 25.1005C19.6823 22.6583 20.6336 20.3106 22.3397 18.5632C24.0458 16.8158 26.3701 15.8086 28.8118 15.7587Z" fill="#25F4EE"/>
<path d="M29.0337 29.4282C31.3464 29.4282 33.2701 27.5535 33.3563 25.2615L33.3659 4.83439L37.0739 4.84128L37.065 4.79576C36.9854 4.36834 36.9452 3.93452 36.945 3.49976H31.8409L31.8299 23.9627C31.8043 24.6872 31.5952 25.3933 31.2222 26.015C30.8492 26.6366 30.3246 27.1534 29.6974 27.517C29.0702 27.8805 28.361 28.079 27.6362 28.0937C26.9114 28.1084 26.1948 27.9389 25.5533 27.6011C26.3341 28.6853 27.6012 29.4282 29.0337 29.4282Z" fill="#25F4EE"/>
<path d="M44.049 11.824V10.6046C42.6749 10.606 41.3303 10.2061 40.1803 9.4541C41.1721 10.5935 42.5199 11.4964 44.049 11.824Z" fill="#25F4EE"/>
<path d="M40.1809 9.45293C39.0535 8.16327 38.4327 6.50814 38.4338 4.79517H37.0309C37.3895 6.7409 38.5807 8.41005 40.1809 9.45293Z" fill="#FE2C55"/>
<path d="M27.5453 19.4723C25.1781 19.4723 23.2137 21.4367 23.2137 23.8039C23.2137 25.4523 24.1876 26.8842 25.554 27.6036C25.0226 26.8756 24.7347 25.9984 24.7315 25.0971C24.7283 24.1958 25.01 23.3166 25.5363 22.5849C26.0626 21.8532 26.8066 21.3066 27.6621 21.0229C28.5176 20.7393 29.4409 20.7333 30.3001 21.0056V15.7919C29.8805 15.7327 29.4574 15.702 29.0337 15.7002C28.9592 15.7002 28.8861 15.7043 28.8116 15.7057L28.7764 15.7105L28.773 19.6482C28.3756 19.5253 27.9612 19.4659 27.5453 19.4723Z" fill="#FE2C55"/>
<path d="M44.0493 11.7424L44.0224 11.7375L44.0107 15.669C41.4627 15.667 38.9801 14.8624 36.9154 13.3695L36.9099 23.8058C36.9115 25.0358 36.6704 26.2541 36.2003 27.3907C35.7302 28.5274 35.0404 29.5601 34.1705 30.4297C33.3005 31.2992 32.2675 31.9886 31.1306 32.4581C29.9938 32.9277 28.7754 33.1683 27.5454 33.1661C25.5452 33.1661 23.6829 32.5723 22.1586 31.5004C23.0363 32.4469 24.1 33.2018 25.2831 33.718C26.4661 34.2341 27.743 34.5004 29.0338 34.5001C34.2165 34.5001 38.4335 30.2831 38.4335 25.1004V14.7206C40.5032 16.2088 42.9886 17.008 45.5377 17.005V11.901C45.0374 11.9007 44.5385 11.8475 44.0493 11.7424Z" fill="#FE2C55"/>
<path d="M36.9452 23.8035V13.4258C39.0148 14.914 41.5003 15.7132 44.0494 15.7102V11.7415C42.5462 11.4172 41.1888 10.6141 40.1807 9.45293C39.3733 8.92774 38.6808 8.24414 38.1453 7.44353C37.6098 6.64292 37.2423 5.74194 37.0652 4.79517H33.3268L33.3186 25.2609C33.287 26.1546 32.9766 27.016 32.4309 27.7245C31.8852 28.4329 31.1315 28.9528 30.2754 29.2114C29.4194 29.4699 28.5039 29.4542 27.6572 29.1663C26.8106 28.8784 26.0752 28.3328 25.5542 27.606C24.7037 27.1609 24.0269 26.4435 23.6322 25.5684C23.2375 24.6933 23.1477 23.7111 23.377 22.779C23.6064 21.8468 24.1417 21.0185 24.8974 20.4264C25.6531 19.8344 26.5855 19.5129 27.5455 19.5134C27.9753 19.5148 28.4023 19.5818 28.8118 19.712V15.7116C23.7313 15.8302 19.6343 19.9969 19.6343 25.1057C19.6332 27.4821 20.5356 29.77 22.1587 31.5057C23.7355 32.6159 25.6171 33.211 27.5455 33.2094C32.7281 33.2045 36.9452 28.9868 36.9452 23.8035Z" fill="white"/>
<path d="M50.5914 11.7588H66.5511L65.0855 16.3241H60.9471V33.2005H55.7851V16.3221L50.5956 16.3317L50.5914 11.7588Z" fill="white"/>
<path d="M92.6871 11.7588H109.012L107.547 16.3241H103.047V33.2005H97.8808V16.3221L92.6906 16.3317L92.6871 11.7588Z" fill="white"/>
<path d="M67.5215 18.5786H72.6372L72.6317 33.2002H67.5518L67.5215 18.5786Z" fill="white"/>
<path d="M74.6657 11.6982H79.7759V21.6862L84.8407 16.7202H90.9406L84.5344 22.9278L91.7076 33.1972H86.0773L81.2906 26.0785L79.7732 27.551V33.1999H74.663L74.6657 11.6982Z" fill="white"/>
<path d="M128.812 11.6982H133.923V21.6862L138.987 16.7202H145.087L138.681 22.9278L145.854 33.1972H140.224L135.435 26.0757L133.918 27.5483V33.1972H128.808L128.812 11.6982Z" fill="white"/>
<path d="M70.0779 16.9085C71.5003 16.9085 72.6534 15.7554 72.6534 14.333C72.6534 12.9106 71.5003 11.7576 70.0779 11.7576C68.6555 11.7576 67.5024 12.9106 67.5024 14.333C67.5024 15.7554 68.6555 16.9085 70.0779 16.9085Z" fill="white"/>
<path d="M108.359 24.4451C108.359 22.2423 109.19 20.1206 110.686 18.5036C112.182 16.8865 114.232 15.893 116.428 15.7214C116.202 15.7041 115.892 15.6924 115.662 15.6924C113.341 15.6924 111.114 16.6145 109.473 18.256C107.832 19.8974 106.909 22.1237 106.909 24.4451C106.909 26.7664 107.832 28.9927 109.473 30.6342C111.114 32.2756 113.341 33.1978 115.662 33.1978C115.892 33.1978 116.202 33.186 116.428 33.1681C114.232 32.9966 112.182 32.0032 110.686 30.3863C109.19 28.7694 108.359 26.6478 108.359 24.4451Z" fill="#25F4EE"/>
<path d="M118.413 15.6946C118.18 15.6946 117.869 15.7063 117.641 15.7242C119.836 15.8968 121.886 16.8906 123.38 18.5075C124.875 20.1243 125.705 22.2453 125.705 24.4473C125.705 26.6492 124.875 28.7702 123.38 30.3871C121.886 32.0039 119.836 32.9978 117.641 33.1703C117.869 33.1882 118.18 33.2 118.413 33.2C120.735 33.2 122.961 32.2778 124.603 30.6364C126.244 28.9949 127.166 26.7686 127.166 24.4473C127.166 22.1259 126.244 19.8996 124.603 18.2582C122.961 16.6167 120.735 15.6946 118.413 15.6946Z" fill="#FE2C55"/>
<path d="M117.031 15.6946C115.299 15.6946 113.607 16.208 112.168 17.1698C110.728 18.1317 109.606 19.4988 108.944 21.0982C108.281 22.6977 108.108 24.4577 108.446 26.1556C108.784 27.8535 109.618 29.4131 110.842 30.6371C112.066 31.8611 113.626 32.6946 115.324 33.032C117.022 33.3695 118.782 33.1959 120.381 32.5331C121.981 31.8703 123.348 30.7482 124.309 29.3085C125.271 27.8689 125.784 26.1764 125.783 24.4452C125.783 22.1242 124.861 19.8983 123.219 18.2573C121.578 16.6162 119.352 15.6944 117.031 15.6946ZM117.031 28.7022C116.189 28.7022 115.367 28.4527 114.667 27.9853C113.967 27.5178 113.422 26.8534 113.1 26.0761C112.778 25.2987 112.693 24.4433 112.857 23.6179C113.021 22.7926 113.426 22.0344 114.021 21.4393C114.616 20.8442 115.374 20.4387 116.199 20.2743C117.024 20.1099 117.88 20.1939 118.657 20.5156C119.435 20.8373 120.1 21.3824 120.567 22.0818C121.035 22.7813 121.285 23.6037 121.285 24.4452C121.286 25.0042 121.176 25.5577 120.962 26.0741C120.748 26.5906 120.435 27.0599 120.04 27.4553C119.645 27.8506 119.176 28.1642 118.659 28.3781C118.143 28.5921 117.589 28.7022 117.031 28.7022Z" fill="white"/>
<rect x="280" y="11" width="17" height="22" rx="4" fill="#EA445A"/>
<rect x="153" y="11" width="17" height="22" rx="4" fill="#25F4EE"/>
<rect x="155.5" y="11" width="139" height="22" rx="4" fill="white"/>
<path d="M165.708 28.256C162.316 28.256 160.012 25.904 160.012 22.368C160.012 18.816 162.316 16.48 165.692 16.48C168.46 16.48 170.236 17.712 170.844 20.016L168.412 20.752C168.012 19.424 167.068 18.72 165.676 18.72C163.82 18.72 162.668 20.096 162.668 22.368C162.668 24.624 163.82 26.016 165.692 26.016C167.068 26.016 168.012 25.312 168.412 23.984L170.812 24.704C170.204 27.008 168.46 28.256 165.708 28.256ZM172.002 28V19.648H174.226V20.512C174.562 19.856 175.266 19.456 176.226 19.456C176.434 19.456 176.61 19.472 176.738 19.504V21.76C176.482 21.712 176.274 21.68 176.002 21.68C175.042 21.68 174.37 22.272 174.37 23.744V28H172.002ZM181.565 28.192C178.941 28.192 177.277 26.432 177.277 23.744C177.277 21.216 179.021 19.456 181.485 19.456C183.885 19.456 185.469 21.024 185.469 23.488C185.469 23.792 185.453 24.192 185.405 24.416H179.581C179.661 25.584 180.333 26.32 181.613 26.32C182.477 26.32 183.117 25.968 183.501 25.216L185.309 26.096C184.653 27.456 183.245 28.192 181.565 28.192ZM179.597 22.896H183.181C183.101 21.776 182.461 21.2 181.405 21.2C180.413 21.2 179.709 21.76 179.597 22.896ZM191.955 28L191.635 27.088C191.139 27.792 190.307 28.192 189.203 28.192C187.475 28.192 186.291 27.248 186.291 25.792C186.291 24.352 187.267 23.472 188.931 23.136L191.411 22.608V22.544C191.411 21.68 190.995 21.264 190.163 21.264C189.379 21.264 188.931 21.664 188.755 22.4L186.499 21.952C186.835 20.384 188.243 19.456 190.243 19.456C192.659 19.456 193.779 20.672 193.779 22.72V26.432L194.371 28H191.955ZM188.675 25.536C188.675 26.128 189.171 26.464 189.795 26.464C190.819 26.464 191.411 25.792 191.411 24.832V24.112L189.763 24.512C189.059 24.672 188.675 24.976 188.675 25.536ZM198.631 28.16C196.951 28.16 196.055 27.344 196.055 25.776V21.488H194.647V19.648H196.055V17.84L198.423 16.832V19.648H200.039V21.488H198.423V25.264C198.423 25.856 198.711 26.128 199.271 26.128C199.479 26.128 199.703 26.096 199.959 26V27.952C199.495 28.096 199.079 28.16 198.631 28.16ZM205.113 28.192C202.585 28.192 200.761 26.512 200.761 23.824C200.761 21.136 202.585 19.456 205.113 19.456C207.657 19.456 209.481 21.136 209.481 23.824C209.481 26.512 207.657 28.192 205.113 28.192ZM203.193 23.824C203.193 25.376 203.977 26.208 205.113 26.208C206.249 26.208 207.049 25.376 207.049 23.824C207.049 22.272 206.249 21.424 205.113 21.424C203.977 21.424 203.193 22.272 203.193 23.824ZM210.69 28V19.648H212.914V20.512C213.25 19.856 213.954 19.456 214.914 19.456C215.122 19.456 215.298 19.472 215.426 19.504V21.76C215.17 21.712 214.962 21.68 214.69 21.68C213.73 21.68 213.058 22.272 213.058 23.744V28H210.69ZM220.022 28V16.72H224.198L227.366 26.24V16.72H229.75V28H225.574L222.406 18.512V28H220.022ZM235.424 28.192C232.8 28.192 231.136 26.432 231.136 23.744C231.136 21.216 232.88 19.456 235.344 19.456C237.744 19.456 239.328 21.024 239.328 23.488C239.328 23.792 239.312 24.192 239.264 24.416H233.44C233.52 25.584 234.192 26.32 235.472 26.32C236.336 26.32 236.976 25.968 237.36 25.216L239.168 26.096C238.512 27.456 237.104 28.192 235.424 28.192ZM233.456 22.896H237.04C236.96 21.776 236.32 21.2 235.264 21.2C234.272 21.2 233.568 21.76 233.456 22.896ZM243.834 28.16C242.154 28.16 241.258 27.344 241.258 25.776V21.488H239.85V19.648H241.258V17.84L243.626 16.832V19.648H245.242V21.488H243.626V25.264C243.626 25.856 243.914 26.128 244.474 26.128C244.682 26.128 244.906 26.096 245.162 26V27.952C244.698 28.096 244.282 28.16 243.834 28.16ZM247.418 28L245.834 19.648H248.266L249.21 26.512L250.346 19.648H253.514L254.65 26.512L255.594 19.648H258.026L256.458 28H253.034L251.93 21.136L250.826 28H247.418ZM263.097 28.192C260.569 28.192 258.745 26.512 258.745 23.824C258.745 21.136 260.569 19.456 263.097 19.456C265.641 19.456 267.465 21.136 267.465 23.824C267.465 26.512 265.641 28.192 263.097 28.192ZM261.177 23.824C261.177 25.376 261.961 26.208 263.097 26.208C264.233 26.208 265.033 25.376 265.033 23.824C265.033 22.272 264.233 21.424 263.097 21.424C261.961 21.424 261.177 22.272 261.177 23.824ZM268.674 28V19.648H270.898V20.512C271.234 19.856 271.938 19.456 272.898 19.456C273.106 19.456 273.282 19.472 273.41 19.504V21.76C273.154 21.712 272.946 21.68 272.674 21.68C271.714 21.68 271.042 22.272 271.042 23.744V28H268.674ZM274.408 28V16.72H276.776V22.384L279.544 19.648H282.504L279.576 22.496L282.664 28H279.928L277.912 24.112L276.776 25.232V28H274.408ZM286.262 28.192C284.358 28.192 283.03 27.408 282.694 25.728L284.918 25.248C285.11 26.128 285.59 26.544 286.374 26.544C287.078 26.544 287.462 26.256 287.462 25.696C287.462 25.248 287.27 24.944 286.63 24.768L284.966 24.32C283.83 24.016 283.062 23.216 283.062 22.016C283.062 20.464 284.358 19.456 286.39 19.456C288.07 19.456 289.414 20.112 289.75 21.536L287.574 22.064C287.334 21.392 286.934 21.104 286.294 21.104C285.686 21.104 285.35 21.408 285.35 21.824C285.35 22.224 285.574 22.464 286.054 22.592L287.558 23.008C288.982 23.376 289.782 24.112 289.782 25.488C289.782 27.232 288.326 28.192 286.262 28.192Z" fill="black"/>
</svg>
`

b.add('Javascript optimize', () => {
  optimize(inputXml, {
    plugins: ['removeDesc'],
  })
})

b.add('Rust optimize', () => {
  optimizeRs(inputXml)
})

await b.run()

console.table(b.table())
